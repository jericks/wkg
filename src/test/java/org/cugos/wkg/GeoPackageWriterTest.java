package org.cugos.wkg;

import org.junit.jupiter.api.Test;

import java.util.Arrays;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class GeoPackageWriterTest {

    @Test
    public void writeOptions() {
        // Little / No Envelope
        GeoPackageWriter writer = new GeoPackageWriter(WKB.Endian.Little, GeoPackage.EnvelopeType.NoEnvelope);
        String hex = writer.writeToHex(new Point(Coordinate.create2D(31.19999710971274, -26.466667461352472), Dimension.Two, "4326"));
        assertEquals("47500001000010E60101000020E6100000C082B50233333F40C09DCC8477773AC0".toUpperCase(), hex);
        // Big / No Envelope
        writer = new GeoPackageWriter(WKB.Endian.Big, GeoPackage.EnvelopeType.NoEnvelope);
        hex = writer.writeToHex(new Point(Coordinate.create2D(31.19999710971274, -26.466667461352472), Dimension.Two, "4326"));
        assertEquals("47500000000010E60020000001000010E6403F333302B582C0C03A777784CC9DC0".toUpperCase(), hex);

        // Little / Envelope
        writer = new GeoPackageWriter(WKB.Endian.Little, GeoPackage.EnvelopeType.Envelope);
        hex = writer.writeToHex(new Point(Coordinate.create2D(31.19999710971274, -26.466667461352472), Dimension.Two, "4326"));
        assertEquals("47500003000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC00101000020E6100000C082B50233333F40C09DCC8477773AC0".toUpperCase(), hex);
        // Big / Envelope
        writer = new GeoPackageWriter(WKB.Endian.Big, GeoPackage.EnvelopeType.Envelope);
        hex = writer.writeToHex(new Point(Coordinate.create2D(31.19999710971274, -26.466667461352472), Dimension.Two, "4326"));
        assertEquals("47500002000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC00020000001000010E6403F333302B582C0C03A777784CC9DC0".toUpperCase(), hex);

        // Little / Envelope Z
        writer = new GeoPackageWriter(WKB.Endian.Little, GeoPackage.EnvelopeType.EnvelopeZ);
        hex = writer.writeToHex(new Point(Coordinate.create3D(31.19999710971274, -26.466667461352472, 145.54), Dimension.Three, "4326"));
        assertEquals("47500005000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE101010000A0E6100000C082B50233333F40C09DCC8477773AC0E17A14AE47316240".toUpperCase(), hex);
        // Big / Envelope Z
        writer = new GeoPackageWriter(WKB.Endian.Big, GeoPackage.EnvelopeType.EnvelopeZ);
        hex = writer.writeToHex(new Point(Coordinate.create3D(31.19999710971274, -26.466667461352472, 145.54), Dimension.Three, "4326"));
        assertEquals("47500004000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE100A0000001000010E6403F333302B582C0C03A777784CC9DC040623147AE147AE1".toUpperCase(), hex);

        // Little / Envelope M
        writer = new GeoPackageWriter(WKB.Endian.Little, GeoPackage.EnvelopeType.EnvelopeM);
        hex = writer.writeToHex(new Point(Coordinate.create2DM(31.19999710971274, -26.466667461352472, 145.54), Dimension.TwoMeasured, "4326"));
        assertEquals("47500007000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE10101000060E6100000C082B50233333F40C09DCC8477773AC0E17A14AE47316240".toUpperCase(), hex);
        // Big / Envelope M
        writer = new GeoPackageWriter(WKB.Endian.Big, GeoPackage.EnvelopeType.EnvelopeM);
        hex = writer.writeToHex(new Point(Coordinate.create2DM(31.19999710971274, -26.466667461352472, 145.54), Dimension.TwoMeasured, "4326"));
        assertEquals("47500006000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE10060000001000010E6403F333302B582C0C03A777784CC9DC040623147AE147AE1".toUpperCase(), hex);

        // Little / Envelope 3DM
        writer = new GeoPackageWriter(WKB.Endian.Little, GeoPackage.EnvelopeType.EnvelopeZM);
        hex = writer.writeToHex(new Point(Coordinate.create3DM(31.19999710971274, -26.466667461352472, 145.54, 25.98), Dimension.ThreeMeasured, "4326"));
        assertEquals("47500009000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE14039FAE147AE147B4039FAE147AE147B01010000E0E6100000C082B50233333F40C09DCC8477773AC0E17A14AE473162407B14AE47E1FA3940".toUpperCase(), hex);
        // Big / Envelope 3DM
        writer = new GeoPackageWriter(WKB.Endian.Big, GeoPackage.EnvelopeType.EnvelopeZM);
        hex = writer.writeToHex(new Point(Coordinate.create3DM(31.19999710971274, -26.466667461352472, 145.54, 25.98), Dimension.ThreeMeasured, "4326"));
        assertEquals("47500008000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC040623147AE147AE140623147AE147AE14039FAE147AE147B4039FAE147AE147B00E0000001000010E6403F333302B582C0C03A777784CC9DC040623147AE147AE14039FAE147AE147B".toUpperCase(), hex);
    }

    @Test
    public void write() {
        GeoPackageWriter writer = new GeoPackageWriter();
        WKTReader wktReader = new WKTReader();

        // Points
        String hex = writer.writeToHex(new Point(Coordinate.create2D(31.19999710971274, -26.466667461352472), Dimension.Two, "4326"));
        assertEquals("47500002000010E6403F333302B582C0403F333302B582C0C03A777784CC9DC0C03A777784CC9DC00020000001000010E6403F333302B582C0C03A777784CC9DC0".toUpperCase(), hex);
        hex = writer.writeToHex(new Point(Coordinate.create2D(12.447808388934618, 41.9000122264211), Dimension.Two, "4326"));
        assertEquals("47500002000010E64028E5472422B2804028E5472422B2804044F33399C33D484044F33399C33D480020000001000010E64028E5472422B2804044F33399C33D48".toUpperCase(), hex);
        hex = writer.writeToHex(new Point(Coordinate.create2D(6.130002806227083, 49.611660379121076), Dimension.Two, "4326"));
        assertEquals("47500002000010E64018851F74A488C04018851F74A488C04048CE4AE3264AC04048CE4AE3264AC00020000001000010E64018851F74A488C04048CE4AE3264AC0".toUpperCase(), hex);

        // Lines
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTILINESTRING ((-93.21098792227889 43.55860016467744, -93.17772376218699 43.54975006698879, -93.15495764894644 43.52429840729758, -93.12163245366696 43.470465398915906, -93.0763443679358 43.44232819187471, -93.06328284410938 43.43164703946081, -93.04814612570715 43.42224762598414, -93.00859534400223 43.4137637394204, -92.99126135974984 43.4077822937449, -92.96281897677119 43.389471746492745, -92.92595374241631 43.3584658874384, -92.84288489451802 43.26965973551381, -92.82140052021464 43.23871491074766, -92.8199356766143 43.21594879750711, -92.77275550007113 43.16901276261319, -92.76469885981982 43.15790436388693, -92.7627457347196 43.148382880035285, -92.75743567610641 43.14276764548464, -92.73100745341549 43.12451813342, -92.72484290307682 43.121649481406905, -92.7206925121265 43.120428778556516, -92.71721350823856 43.1178653015815, -92.71733557861353 43.112005926280915, -92.71831214071392 43.105169988879936, -92.71751868417596 43.09992096545426, -92.70250403524932 43.0824649108269, -92.63805091054058 43.03034088769476, -92.60332190684835 43.009161688429515, -92.59343421097242 43.003729559441354, -92.55736243405482 42.98432037971378, -92.53954016830261 42.97028229378691, -92.5319718086518 42.95221588728475, -92.51146399644887 42.7808291689617, -92.44170081312689 42.6875674501494, -92.44115149643955 42.67377350497247, -92.45995032429227 42.66791412967194, -92.46880042198092 42.65894196160832, -92.49266516859615 42.61792633630313, -92.49785315683437 42.60645172735127, -92.48656165254567 42.57001373930882, -92.45225989516581 42.545538641718, -92.35759436794069 42.513067938164056, -92.34843909431464 42.50787994992584, -92.3304947581874 42.49439118068631, -92.32310950409902 42.49213287964869, -92.31969153539853 42.48981354342362, -92.31859290292317 42.48450348481043, -92.3198136057735 42.47766754740945, -92.32011878171096 42.47174713782073, -92.31596839076064 42.469305731220686, -92.29680335178301 42.464422918919865, -92.2729386060671 42.45294830906869, -92.25108801973948 42.4393985046417, -92.23778235606244 42.428290105915494, -92.22057044218502 42.39563629769839, -92.21300208253422 42.37610504759584, -92.20982825458367 42.36286041910631, -92.20171057824552 42.35297272323038, -92.16277014841546 42.32587311437641, -92.14897620323853 42.31842682510057, -92.08360755071755 42.29993317228599, -92.0627335273897 42.29798004808515, -92.05296790278811 42.29468414886031, -92.04289710224907 42.286627508608944, -92.0349014962859 42.27655670806996, -92.03166663314784 42.267279364068884, -92.0352066722233 42.254584051367374, -92.04338538284964 42.24707672690408, -92.05247962128823 42.24182770347835, -92.05901038275175 42.235907293889625, -92.06279456257715 42.21839020407481, -92.05778967990142 42.20062897351005, -92.0457047190747 42.18683502833312, -92.02830969963486 42.18128082896999, -92.00786292261938 42.1773135435821, -91.96355139898867 42.16174957886744, -91.94292151641076 42.16083405195451, -91.93352210203477 42.163763739155115, -91.92442786359618 42.16870758664339, -91.91771399657017 42.17578766479431, -91.91502844922019 42.18500397360788, -91.9093521803814 42.195379950084316, -91.89671790286735 42.19562409083426, -91.85722815634995 42.18292877813275, -91.8183487617074 42.15540192296635, -91.79832923100435 42.1465518252777, -91.79832923100435 42.13971588787672, -91.80577552028012 42.13971588787672, -91.80577552028012 42.133490301451275, -91.79954993385468 42.12921784102531, -91.79185950472822 42.126654364050296, -91.78252112553974 42.12561676676239, -91.77159583237591 42.12604401217544, -91.77751624286395 42.09772369957176, -91.77843176977689 42.06867096561763, -91.7721451490633 42.054266668565845, -91.7573136056991 42.03229401276258, -91.74022376219665 42.01203034041026, -91.72691809762028 42.00318024272161, -91.70988928930535 42.003119207534155, -91.69835364516604 42.001349187996425, -91.68645178900243 41.99536774322024, -91.63255774633262 41.95270416875229, -91.62083899663082 41.94794342682644, -91.60130774652833 41.95044586771468, -91.58946692645156 41.95508454016482, -91.57872473885021 41.953619695665225, -91.56248938707324 41.93799469576305, -91.55577552004723 41.93280670752483, -91.54704749273355 41.929754949949256, -91.53758704317005 41.92835114153644, -91.52830969916903 41.92804596559904, -91.52312171093081 41.92719147387356, -91.52031409410517 41.92475006727352, -91.51909339125478 41.92133209857303, -91.51854407456744 41.917486883560116, -91.51799475788005 41.91364166854726, -91.51646887909226 41.91022369984677, -91.51329505114171 41.9078433293335, -91.49199378150149 41.90418121988307, -91.47881018819942 41.897162176919664, -91.45567786383396 41.87964508710479, -91.41185462170313 41.85864899340197, -91.40111243410178 41.84552643438809, -91.40843665300264 41.83051178636077, -91.38536536382463 41.81732819215938, -91.33617102789316 41.800787664444954, -91.31926428905382 41.78693268408057, -91.20549475803858 41.71625397384565, -91.19621741403756 41.70526764549436, -91.16490637904576 41.681036688653535, -91.15544593038163 41.67676422732825, -91.15550696556909 41.66675446197672, -91.16148841034527 41.64624664887447, -91.16100012884539 41.629095770184506, -91.15923011020698 41.6204898132458, -91.15404212106944 41.612738348032565, -91.1445206372178 41.607672430169316, -91.13347327367904 41.60449860221877, -91.124318000053 41.59943268435552, -91.12053382112691 41.58850739119174, -91.11937415256466 41.57721588780231, -91.11424719951395 41.56238434443816, -91.11308753185108 41.5543887393743, -91.11815344971433 41.549750066924105, -91.14781653554331 41.53766510609745, -91.21300208250187 41.47931549653987, -91.27818762946043 41.44086334820969, -91.30138098901341 41.41412994958131, -91.3348282546678 41.35089752772291, -91.3538712232704 41.32477448096938, -91.3538712232704 41.3179385435684, -91.34813391834484 41.310431219105055, -91.33281409438013 41.28375885656351, -91.3206070631785 41.27301666896216, -91.29802405550038 41.26123688317358, -91.26878821508444 41.23822663008241, -91.20982825455133 41.213446356554186, -91.18877112566105 41.20807526275348, -91.18877112566105 41.2012393253525, -91.19444739449983 41.180609441875276, -91.17259680907154 41.15430328955932, -91.1239517898274 41.1159121764166, -91.09123694552346 41.098639227351725, -91.06981360550827 41.114874579128696, -91.05223548050594 41.14441559458271, -91.03111731642815 41.167120672635804))"));
        assertEquals("47500002000010E6C0574D80D37C827CC056C1FDD37C197C40448CA035CFCA084045C78035CF6A380020000005000010E6000000010020000002000010E6000000A7C0574D80D37C827C4045C78035CF6A38C0574B5FD37C942C4045C65E35CF5868C05749EAD37C9F5C4045C31C35D05810C05747C8D37CA8704045BC3835CF1F28C05744E2D37CE1284045B89E35CF19B0C057440CD37C76404045B74035CEF320C0574314D37CD5D84045B60C35D03530C057408CD37C58CC4045B4F635D08A68C0573F70D37C7A804045B43235CFC2D8C0573D9ED37C4CD44045B1DA35CEF380C0573B42D37C525C4045ADE235CFA3C8C05735F1D37C0FD44045A28435D08A38C0573491D37CCF5040459E8E35CF5D48C0573479D37CF87440459BA435CF73A8C0573174D37C2704404595A235D003E0C05730F0D37C8DBC4045943635CF6520C05730D0D37C7230404592FE35D084D8C0573079D37C6CD84045924635D02448C0572EC8D37C635040458FF035CF6620C0572E63D37CDCF840458F9235D01BE8C0572E1FD37C838C40458F6A35D0B2E0C0572DE6D37C889440458F1635CFD018C0572DE8D37C99C040458E5635CF2AD8C0572DF8D37C2BE840458D7635CF6148C0572DEBD37CB38040458CCA35CF67C8C0572CF5D37C2D0C40458A8E35CF88D8C05728D5D37C7D1C404583E235D030B8C057269CD37CB7F04045812C35D01728C05725FAD37C1D104045807A35CFEA20C05723ABD37C923440457DFE35CFD418C0572287D37C6F3C40457C3235CFD9F0C057220BD37C236C404579E235CF4F50C05720BBD37C7514404563F235D03A08C0571C44D37CBFC84045580235D017C8C0571C3BD37C72844045563E35D06250C0571D6FD37C27AC4045557E35CFBD18C0571E00D37C30944045545835CF88F0C0571F87D37CBFEC40454F1835CEE128C0571FDCD37CB41840454DA035CFC9C8C0571F23D37C4AF8404548F635D04D10C0571CF1D37CC1E4404545D435D07108C05716E2D37CE280404541AC35CF8538C057164CD37CAEAC4045410235CF9CE0C0571526D37C7A8440453F4835D03D40C05714ADD37C487440453EFE35CFB050C0571475D37C561040453EB235CF1238C0571463D37CB2BC40453E0435CF0788C0571477D37C673C40453D2435CF3DF8C057147CD37C922C40453C6235D075F8C0571438D37C38C040453C1235CFB588C05712FED37C501440453B7235D02308C0571177D37CB7F0404539FA35CF1D40C0571011D37C4CB44045383E35CFAC78C0570F37D37CB6A8404536D235CF0DC0C0570E1DD37CE988404532A435CFDCD0C0570DA1D37C9DB84045302435CFA470C0570D6DD37CCDAC40452E7235D08988C0570CE8D37C349840452D2E35CF53C8C0570A6AD37C0D68404529B635D07238C0570988D37C32AC404528C235CFFCF0C0570559D37C01F44045266435CEFA18C0570403D37C20184045262435D0B170C0570363D37C8D9C404525B835CF0098C05702BED37CD030404524B035CFCE00C057023BD37C48484045236635D05330C0570206D37C6FA44045223635CFC928C0570240D37C73344045209635CF5A60C05702C6D37C1DAC40451FA035CED3F0C057035BD37C48EC40451EF435CEDA68C05703C6D37C02C440451E3235D01268C0570404D37C28AC40451BF435D02250C05703B2D37C4E44404519AE35CFED88C05702ECD37C6CB8404517EA35D03810C05701CFD37C85D84045173435CFE8B0C0570080D37CE014404516B235CF6958C056FDAAD37CAAF8404514B435CFB050C056FC58D37CEB744045149635D09D28C056FBBED37C9548404514F635CFF890C056FB29D37C6A084045159835CF9C38C056FABBD37C966C4045168035CFAA78C056FA8FD37C13DC404517AE35D02350C056FA32D37CD2344045190235CFF400C056F963D37CA3644045190A35D038B0C056F6DCD37C2EF04045176A35CFC9E8C056F45FD37C1058404513E435D07020C056F317D37CA6B0404512C235D05E50C056F317D37CA6B0404511E235D094C0C056F391D37CE150404511E235D094C0C056F391D37CE1504045111635CF8880C056F32BD37C5B304045108A35D0A1B8C056F2ADD37CF5684045103635CFBEF0C056F214D37CA7D44045101435D08970C056F161D37C72344045102235CF1338C056F1C2D37CCD6840450C8235CEDA38C056F1D1D37C56FC404508CA35CFC198C056F16AD37CBF7C404506F235CF6068C056F077D37C52C84045042235D05600C056EF5FD37C96D44045018A35CF4F98C056EE85D37C09944045006835CF3DC8C056ED6ED37C56384045006635CF2CA0C056ECB1D37CC1F44045002C35CF2910C056EBEED37C02F44044FF6835D04FE8C056E87BD37C55204044F9F235CFC6E8C056E7BBD37CA7184044F95635D056C0C056E67BD37C8AEC4044F9A835CF39F8C056E5B9D37CCBB84044FA4035D07628C056E509D37CAFDC4044FA1035CEDA10C056E3FFD37C74E84044F81035CF0FD8C056E391D37CA14C4044F76635CF2780C056E302D37CA9904044F70235CFA9C0C056E267D37C4ACC4044F6D435D00D38C056E1CFD37C05CC4044F6CA35CFB760C056E17AD37C11A04044F6AE35D0B560C056E14CD37C75184044F65E35CFF4F0C056E138D37CC0944044F5EE35D01028C056E12FD37C73504044F57035CFB328C056E126D37C26084044F4F235CF5630C056E10DD37C46984044F48235CF7168C056E0D9D37C768C4044F43435D0B088C056DF7CD37C58984044F3BC35D08710C056DEA4D37CD3B84044F2D635D08A00C056DD29D37CAB644044F09835D099E0C056DA5BD37CBAF84044EDE835D0B3D0C056D9ABD37C9F1C4044EC3A35CFCCD8C056DA23D37CC8944044EA4E35D0AE58C056D8A9D37CA8D44044E89E35CFB630C056D583D37CAA7C4044E68035CEEA68C056D46ED37C11144044E4BA35CF23C8C056CD26D37C519C4044DBAE35D0A608C056CC8ED37C0C9C4044DA4635D029A0C056CA8DD37C39D04044D72C35D09250C056C9F2D37CD2444044D6A035CFBD20C056C9F3D37CDAD84044D55835D05378C056CA55D37C476C4044D2B835CF0860C056CA4DD37C02BC4044D08635CF7F48C056CA30D37CF8284044CF6C35CFB228C056C9DBD37C0CC84044CE6E35CEE708C056C93FD37C9CA44044CDC835CF2108C056C88AD37C55DC4044CD6035CF80F0C056C7F4D37C22084044CCBA35CFBAF0C056C7B6D37CF3544044CB5435CF4FB8C056C7A3D37C50304044C9E235D06BD8C056C74FD37C649C4044C7FC35CF9278C056C73CD37CB8B04044C6F635D07110C056C78FD37C9BB04044C65E35CF34D8C056C975D37C7DDC4044C4D235CF71C8C056CDA1D37C94D44044BD5A35CF0D68C056D1CDD37CABCC4044B86E35CF4868C056D349D37CDCB84044B50235CEDF78C056D56DD37CE4CC4044ACEA35CEE898C056D6A5D37CBC484044A99235CF2B60C056D6A5D37CBC484044A8B235CF61D0C056D647D37C7AD84044A7BC35CEDB58C056D54CD37CC0AC4044A45235D07200C056D484D37CCDF84044A2F235D03A48C056D312D37CF2E84044A17035CEDEA8C056D133D37C55A040449E7E35D09EC0C056CD6DD37CC4C840449B5235D06CE0C056CC14D37CC92C40449AA235D05100C056CC14D37CC92C404499C235D08770C056CC71D37C0AD44044971E35CF1A00C056CB0BD37C96CC404493C035CF2948C056C7EED37CE5B840448ED635CF7570C056C5D6D37C4D7440448CA035CFCA08C056C477D37C1E5440448EB435D03FF0C056C357D37C1DB04044927C35CFE1F0C056C1FDD37C197C4044956435CFBA68".toUpperCase(), hex);
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTILINESTRING ((-71.12926184779371 -41.68291594814366, -71.13121497289387 -41.69817473782024, -71.12572180871825 -41.74431731527682, -71.12724768750604 -41.754693291753256, -71.1357315749691 -41.78423430810665, -71.13536536384419 -41.811944268835475, -71.12071692604246 -41.86480071421744, -71.11986243431699 -41.892266534196324, -71.13927161404456 -41.96599700290608, -71.16862952393615 -42.070611261194585, -71.17009436753642 -42.12358977695152, -71.1544693676343 -42.177788995558785, -71.14049231689489 -42.197320245661274, -71.136769172257 -42.20464446366282, -71.12810218013078 -42.23565032361648, -71.126576301343 -42.25090911239374, -71.1281632153183 -42.2968075499997, -71.12352454376742 -42.30925872195132, -71.11168372279138 -42.31902434655291, -71.06615149631028 -42.33745696417998, -71.04710852770762 -42.34050872175561, -70.98735510973722 -42.34111907363041, -70.96837317632207 -42.33782317530489, -70.93303382075499 -42.323540948628136, -70.91417395771481 -42.320977471653066, -70.89824378187524 -42.323540948628136, -70.88609778586107 -42.329034112803754, -70.86223303924578 -42.3461239563062, -70.8486832348188 -42.35320403445712, -70.8038834296882 -42.36712005000902, -70.75633704291948 -42.3761532532601, -70.65764319601834 -42.37395598741, -70.61211096953724 -42.39055755031188, -70.59801184842291 -42.40459563623875, -70.59215247312233 -42.40801360493924, -70.58470618384649 -42.40899016703969, -70.57774817607054 -42.407159112314446, -70.57091223866956 -42.40447356586378, -70.56377112533119 -42.402520440763624, -70.54112708246561 -42.406304620589026, -70.52470862512615 -42.420098565765954, -70.51750647660026 -42.439751886243414, -70.52226721942543 -42.461602471671654, -70.55736243424258 -42.51372649570311, -70.56364905495622 -42.54070403418217, -70.54765784392919 -42.568780206035854, -70.5325211255269 -42.57708098793648, -70.49925696543494 -42.58318450308764, -70.48405921094587 -42.59197356558883, -70.47996985608239 -42.59734465938948, -70.47343909371949 -42.61003997209099, -70.46910559810607 -42.615655206641634, -70.4607437819173 -42.6221249329177, -70.43492591020186 -42.63274505014408))"));
        assertEquals("47500002000010E6C051CAE2D37C7360C0519BD5D37C2000C04550FDCA308990C044D769CA2F98D00020000005000010E6000000010020000002000010E600000036C051C845D37C3940C044D769CA2F98D0C051C865D37C54C8C044D95DCA30EA68C051C80BD37C35B0C044DF45CA2F7AF0C051C824D37C1520C044E099CA2F4BA0C051C8AFD37CE1B8C044E461CA30DC10C051C8A9D37CAE34C044E7EDCA306958C051C7B9D37C5B44C044EEB1CA308F88C051C7ABD37CDA44C044F235CA2FD820C051C8E9D37CE548C044FBA5CA2FC200C051CACAD37C9C88C0450909CA30C7B0C051CAE2D37C7360C0450FD1CA311038C051C9E2D37C8E48C04516C1CA30C1C0C051C8FDD37C99C8C0451941CA30FA18C051C8C0D37C7C78C0451A31CA2F5EA0C051C832D37C8D50C0451E29CA309CC0C051C819D37CADE0C045201DCA2FFFF0C051C833D37C95E8C04525FDCA303A30C051C7E7D37CEF00C0452795CA306450C051C725D37C389CC04528D5CA2F8948C051C43BD37C4EFCC0452B31CA307AF0C051C303D37C777CC0452B95CA2FF8B8C051BF30D37C7708C0452BA9CA30A468C051BDF9D37CA820C0452B3DCA30E1F8C051BBB6D37C8D18C0452969CA30A328C051BA81D37CCF5CC0452915CA2FC058C051B97CD37CBF54C0452969CA30A328C051B8B5D37CD534C0452A1DCA30E158C051B72ED37C45D8C0452C4DCA305940C051B650D37C8D74C0452D35CA306780C051B372D37C13A8C0452EFDCA303F50C051B067D37C05ECC0453025CA3084A0C051AA16D37CD57CC0452FDDCA3008E0C051A72CD37CEBDCC04531FDCA30E5D0C051A645D37CE634C04533C9CA30DFF8C051A5E5D37C9394C0453439CA30C4C0C051A56BD37C58F0C0453459CA2FE918C051A4F9D37C62FCC045341DCA2FD458C051A489D37C7E34C04533C5CA30BDA0C051A414D37C6E80C0453385CA308690C051A2A1D37C8ADCC0453401CA30D260C051A194D37C3624C04535C5CA3087D8C051A11ED37C1DD8C0453849CA30E288C051A16CD37CCD20C0453B15CA2FCA90C051A3ABD37CC5D0C04541C1CA311118C051A412D37C5D54C0454535CA2FD058C051A30CD37C44B8C04548CDCA2FC4A0C051A214D37CA44CC04549DDCA312A50C0519FF3D37CB5F8C0454AA5CA3025D0C0519EFAD37C15C4C0454BC5CA302678C0519EB7D37CBC24C0454C75CA304250C0519E4CD37C0B14C0454E15CA30B118C0519E05D37C8F1CC0454ECDCA3111A8C0519D7CD37CCAE4C0454FA1CA307430C0519BD5D37C2000C04550FDCA308990".toUpperCase(), hex);
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTILINESTRING ((30.371226432942137 2.3330752625078617, 30.372202995941905 2.349249579097375, 30.381846550168518 2.3894107117777708, 30.384287956768617 2.41162750833098, 30.387339714344193 2.418097235506366, 30.39979088629576 2.438544012521845, 30.401621941021006 2.4429385433227253, 30.405284050471437 2.4484317074984006, 30.39857018344543 2.4839541686279176, 30.40674889407171 2.503851629855376, 30.428355339649386 2.539252020609922, 30.4395858078513 2.625921941871866, 30.438609245750854 2.662726141039286, 30.434947136300423 2.6989810244186856, 30.430186394374573 2.715460516046278, 30.417491081673063 2.7355410828361073, 30.413828972222632 2.7584292664516283, 30.408457878421984 2.7678897160151337, 30.398936394570285 2.778143622116602, 30.392344597019928 2.7885806337805548, 30.387705925469106 2.7996890316074428, 30.384287956768617 2.8122622739340386, 30.38489830864347 2.8183047547969977, 30.39185631641942 2.8268496765482496, 30.392344597019928 2.8327700870362946, 30.3902694015448 2.8333194028243156, 30.37867272221797 2.8401553402252944, 30.370005730091805 2.859076239352305, 30.36378014456568 2.8651797545034583, 30.354502800564603 2.867499090728529, 30.348887566014014 2.869635321391172, 30.344126824088164 2.874335028129508, 30.337535026537807 2.879034734867844, 30.326914910210746 2.8811709655304867, 30.296153191007022 2.8811709655304867, 30.237315299949557 2.8685977232039477, 30.22718346422306 2.8706118834916197, 30.216319206246737 2.882574773943304, 30.19117272249298 2.8851992861058307, 30.14466393301211 2.8811709655304867, 30.14002526146129 2.881842352592855, 30.133677604660818 2.8837344425054994, 30.12940514423491 2.8859927426437935, 30.130992058210154 2.8880069029314654, 30.12586510515945 2.8850772157308597, 30.114512565683242 2.875799871729839, 30.11060631638219 2.8737246762546533, 30.099497917655924 2.874396063317022, 30.091563346880264 2.877020574580172, 30.085581902104025 2.879828192305183, 30.06995690220191 2.882635809130818, 30.059947135951063 2.8870303408310747, 30.052256706824608 2.894476630106851, 30.04908287887406 2.905035712145775, 30.04407799529895 2.916510321097576, 30.032237175222235 2.922430731585621, 30.007456901694013 2.9289614930492007, 29.898081902379033 2.9962832706704035, 29.863536003349907 3.0114810242601493, 29.837168815846383 3.0169131532483107, 29.812876823818044 3.018316961661128, 29.797129753540958 3.0238711610242603, 29.781870964763698 3.0368716487639063, 29.758311394085865 3.0629946964167516, 29.733897331682556 3.0741641294311535, 29.699839714153313 3.07898590744378, 29.604502800765204 3.081061102019646, 29.58887779996371 3.08331940305726, 29.564829948685315 3.0904605163956376, 29.56324303471007 3.093695379533699, 29.5631209643351 3.1033999698470893, 29.559580925259638 3.1067569033601217, 29.542002800257308 3.1057803403603543, 29.53516686285633 3.106451727422666, 29.528819206955234 3.1052920597597904, 29.521983269554255 3.1008975280595337, 29.51636803500361 3.100165105809765, 29.514048698778538 3.110174872060611, 29.514781121028363 3.1196353207247967, 29.516123894253667 3.125555731212785, 29.516245964628638 3.1317202824507717, 29.514048698778538 3.141852118177269, 29.497691276626597 3.1722476253567606, 29.493662956950573 3.187689520595768, 29.501109245327086 3.2033145204979405, 29.493662956950573 3.2140567080992923, 29.503550651927128 3.2310244812267683, 29.493662956950573 3.238043524190175, 29.511851432928438 3.255194402880136, 29.506724479877676 3.267035223856169, 29.493662956950573 3.2794863949084743, 29.487315300150158 3.298895574635992, 29.471446159498043 3.290411688072254, 29.466197136072367 3.2852236998340345, 29.453013542770293 3.2938906919602573, 29.43311608154289 3.2929751650472667, 29.394908073962654 3.2852236998340345, 29.351695182807305 3.2845523136710426, 29.333994988329323 3.286566473059395, 29.315440300327282 3.292669989109868, 29.29969323005014 3.3042666684366395, 29.291270378673914 3.319342352550791, 29.283946159773052 3.3372256534905205, 29.271372917446456 3.357245184193573, 29.243296745592772 3.3833682309471556, 29.228526238315396 3.392706610135633, 29.223887565865198 3.4041201847993534, 29.22046959716471 3.422430731152133, 29.20691979273772 3.4343325864163603, 29.18824303436071 3.4458071962675376, 29.17176354273306 3.4584414737815905, 29.16468346458214 3.473944403308735, 29.16041100325691 3.4800479184599453, 29.142100456904075 3.4917666690610076, 29.13795006595376 3.5012271177251932, 29.13575280010366 3.504461980863198, 29.131724480427636 3.5066592467133546, 29.12989342570239 3.509527899625823, 29.134165886128358 3.5148989925271508, 29.139781120679004 3.520209051140341, 29.143321159754464 3.5253970402778805, 29.14478600335474 3.5315005554290337, 29.144663932979768 3.539068915079838, 29.134898308378183 3.556036688207314, 29.098155144398277 3.581915594210898, 29.09009850324759 3.603949286100999, 29.080577019395946 3.612311102289766, 29.05897057381827 3.6054751648887873, 29.016245964162806 3.585211492536473, 29.014292839062648 3.5826480164607233, 29.01221764448684 3.5806338561730513, 29.00757897203664 3.5806338561730513, 29.00281823011079 3.583624578561171, 29.001597527260458 3.5880801454488847, 29.00171959763543 3.5921695012117425, 29.00074303463566 3.594305730975009, 28.989146355308833 3.6048648130139327, 28.98292076888339 3.6048648130139327, 28.980235222432725 3.5905825863371206, 28.976817253732236 3.583014227585636, 28.96924889408143 3.5824649108982953, 28.956065300779358 3.586859442598552, 28.94251549545305 3.584967352685851, 28.932261589351583 3.5800235042982536, 28.89820397182234 3.556280828957256, 28.890147331570972 3.5531680361941653, 28.876597527143986 3.5527407898817955, 28.867198112767994 3.555243231669351, 28.852061394365705 3.564398504396081, 28.846202019065174 3.566412664683753, 28.840586784514528 3.5695864926343006, 28.835948112963706 3.576605535597764, 28.82960045706261 3.583685613748628, 28.81898033983623 3.586859442598552, 28.812510612660788 3.5880801454488847, 28.80347740940971 3.5931460633121333, 28.798350456359003 3.594305730975009, 28.791270378208083 3.59223053549988, 28.788706902132333 3.587591863949001, 28.78846276138239 3.582953192398179, 28.787852409507593 3.5806338561730513, 28.77344811245581 3.5804507506106233, 28.74561608135201 3.585516668473872, 28.72303307367389 3.586859442598552, 28.70106041787068 3.5906436215245776, 28.662119988040615 3.605780340826186, 28.644541863038285 3.6073672548014883, 28.60914147228368 3.597845770050469, 28.58594811273076 3.59577057457534))"));
        assertEquals("47500002000010E6403C9600B20D54E0403E7088B20C81D04002AA235CFC9F80400CE6035CFA7F800020000005000010E6000000010020000002000010E6000000A9403E5F08B20CE5B04002AA235CFC9F80403E5F48B20F0B304002CB435D02EB80403E61C0B20D107040031D835CFE6180403E6260B20E916040034B035CF35300403E6328B20D8CE0400358435D086200403E6658B20DE110400382235CFD1A80403E66D0B20E0A9040038B235CEDAC00403E67C0B20E5D80400396635CF18F80403E6608B20F0F104003DF235CF82880403E6820B20DB8E0400407E35D021F00403E6DA8B20EDC70400450635D069280403E7088B20C81D0400501E35CF18200403E7048B20E392040054D435CEFBE80403E6F58B20DE630400597835D033900403E6E20B20F05E04005B9435CEFFC00403E6AE0B20E28504005E2635CFD2A00403E69F0B20DD560400611435CFDE980403E6890B20D9DB0400624A35D09C200403E6620B20FDD10400639A35D04A780403E6470B20CF68040064F035D02C580403E6340B20E5AF0400665C35CEDCA80403E6260B20E916040067F835CF29200403E6288B20FE8D040068BE35D001D80403E6450B20FC0A040069D635CFBDD00403E6470B20CF6804006A9835D074380403E63E8B20C43B04006AAA35CF20580403E60F0B20DD0404006B8A35CEE9E80403E5EB8B20E13B04006DF635D064F80403E5D20B20FD8004006EBE35CF60780403E5AC0B20EC3F04006F0A35CFFE900403E5950B20E02E04006F5035D069280403E5818B20F22904006FEA35CFC8200403E5668B20C3C00400708435CF27180403E53B0B20FEE1040070CA35CF91B00403E4BD0B20DFB3040070CA35CF91B00403E3CC0B20C1FB04006F2E35CF45400403E3A28B20D07B04006F7035CF8D800403E3760B20C539040070F835CF2E380403E30F0B20EFEA0400714E35D022300403E2508B20D32A040070CA35CF91B00403E23D8B20E971040070E035D04E980403E2238B20C39D0400711E35D074780403E2120B20E6C50400716835CF13000403E2188B20E0C6040071AA35CF5B400403E2038B20E5E10400714A35CFFFD80403E1D50B20C9730400701A35CF75D80403E1C50B20F97B04006FD635CF1C680403E1978B20E5A304006FEC35CFD9500403E1770B20C5CF0400704235CEDED80403E15E8B20EAA90400709E35D006580403E11E8B20F163040070FA35CF3F680403E0F58B20C6610400718A35D036F00403E0D60B20ECEF0400727E35D0AC300403E0C90B20F8EC040073D835D0B0680403E0B48B20C4840400755035CFC7C00403E0840B20D4B80400761235D07E280403E01E8B20CE7C040076E835CFF1E00403DE5E8B20FD8F04007F8635D08A680403DDD10B20D4E70400817835CFDC680403DD650B20D4A90400822A35D009700403DD018B20DF990400825835CFA5F80403DCC10B20E2080400830E35CFF5580403DC828B20F5A2040084B835CECB980403DC220B20DC870400881035D077380403DBBE0B20E32C0400897E35CF38B80403DB328B20CBB004008A1C35D0A8700403D9AC0B20FA0804008A6035CF13780403D96C0B20C2F404008AAA35CFA0680403D9098B20D67A04008B9435CFBFD00403D9030B20DC7904008BFE35CF71180403D9028B20D82E04008D3C35D073480403D8F40B20D74A04008DAA35D046E80403D8AC0B20D72104008D8A35CF34280403D8900B20DDEF04008DA035CFF1080403D8760B20F5E904008D7A35D099300403D85A0B20FCB704008CEA35CFA1A80403D8430B20F0A504008CD235CED3A00403D8398B20DCE204008E1A35D02BB00403D83C8B20F6A404008F5035CEFAD00403D8420B20E80F0400901235CFB1300403D8428B20EC5A040090DC35D0AC480403D8398B20DCE20400922835D038480403D7F68B20C9DA0400960C35CEDC480403D7E60B20F5970400980635D061600403D8048B20C67304009A0635D02B980403D7E60B20F59704009B6635D063500403D80E8B20DE8104009D9235CFB8E00403D7E60B20F59704009E7835CFB5F00403D8308B20CD6A0400A0AA35CF3F080403D81B8B20D2840400A22E35D0ABD00403D7E60B20F5970400A3C635CEE7880403D7CC0B20CFC40400A64235CEFD880403D78B0B20CDE70400A52C35CF52C00403D7758B20CEB70400A48235CF6A680403D73F8B20ED7F0400A59E35CF48B80403D6EE0B20D9930400A58035D035880403D6518B20E9890400A48235CF6A680403D5A08B20C5170400A46C35D09BF00403D5580B20FE700400A4AE35CEF5C80403D50C0B20DBF00400A57635CFDFB00403D4CB8B20DE5E0400A6F235CF19600403D4A90B20EB2B0400A8E035D037780403D48B0B20E0CD0400AB2A35D08E980403D4578B20D73E0400ADBA35CF61E80403D3E48B20D8B50400B11235CF1F280403D3A80B20FD7B0400B24435CFBA500403D3950B20D5F40400B3BA35D0AEF00403D3870B20D95B0400B61235CF8FD80403D34F8B20EB420400B79835CF1F680403D3030B20C4770400B91035D025300403D2BF8B20EAF00400BAAE35D082D00403D2A28B20E9280400BCAA35D02AA80403D2910B20CE830400BD7235CF26300403D2460B20F2650400BEF235D070A00403D2350B20DC0A0400C02835CF3FC00403D22C0B20CC920400C09235CEF1000403D21B8B20F84F0400C0DA35CF6CC80403D2140B20F5B70400C13835D0A5700403D2258B20D2900400C1E835CED2E00403D23C8B20DEA20400C29635CEDD900403D24B0B20DF860400C34035D0B4500403D2510B20D53C0400C40835CFAFD00403D2508B20D0F10400C50035D047700403D2288B20EC520400C72C35CF9D000403D1920B20F1FF0400CA7C35CF15880403D1710B20CDDF0400CD4E35D01F880403D14A0B20F1D60400CE6035CFA7F80403D0F18B20DF9D0400CD8035CFDE680403D0428B20CC570400CAE835CED8000403D03A8B20C5750400CA9435CFE3980403D0320B20F8150400CA5235CF9B580403D01F0B20D08E0400CA5235CF9B580403D00B8B20E2890400CAB435CF07F00403D0068B20F5690400CB4635D010A00403D0070B20F9B40400CBCC35D0B2500403D0030B20D75C0400CC1235CF2E780403CFD38B20F0250400CD6C35CF32B00403CFBA0B20CE9D0400CD6C35CF32B00403CFAF0B20EBC60400CB9835CEF3D80403CFA10B20EF2D0400CAA035D04AA00403CF820B20DC390400CA8E35CFB0180403CF4C0B20FB010400CB1E35D0A7A00403CF148B20CF1B0400CAE035D081B80403CEEA8B20D9500400CA3E35CEEFA80403CE5F0B20C1D40400C73435CFE1B00403CE3E0B20DB810400C6CE35D052C00403CE068B20ED680400C6C035CFDA900403CDE00B20D7DD0400C71235D0AC300403CDA20B20EFC20400C83E35CF25700403CD8A0B20DB1B0400C88035CF6DB00403CD730B20CF090400C8E835CF0DC80403CD600B20E5500400C9CE35CF0AE00403CD460B20FD4A0400CAB635CF19180403CD1A8B20FA9E0400CB1E35D0A7A00403CD000B20D07F0400CB4635D010A00403CCDB0B20C7D50400CBEC35CFD6A00403CCC60B20CCF00400CC1235CF2E780403CCA90B20CB280400CBCE35CED5100403CC9E8B20EC9B0400CB3635CF87400403CC9D8B20E4050400CA9E35D039780403CC9B0B20CE8F0400CA5235CF9B580403CC600B20C2690400CA4C35CF67D80403CBEE0B20CC750400CAF235CF2DD80403CB918B20D5B10400CB1E35D0A7A00403CB378B20F4650400CB9A35CF05000403CA980B20EA990400CD8A35D034400403CA500B20EA700400CDBE35D004500403C9BF0B20E1880400CC8635CF35980403C9600B20D54E0400CC4235CEDC300".toUpperCase(), hex);
       
        // Polygons
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTIPOLYGON (((71.54191775908484 37.90577444106563, 71.44869347523033 37.06564484308058, 71.84463829945062 36.73817129164689, 72.1930408059624 36.9482876653457, 72.63688968291737 37.0475580917784, 73.26005577992501 37.495256862939016, 73.94869591664647 37.421566270490814, 74.98000247589542 37.419990139305895, 75.158027785141 37.13303091078916, 74.57589277537303 37.02084137628344, 74.0675517109178 36.83617564548848, 72.9200248554445 36.72000702569633, 71.84629194528398 36.509942328429815, 71.26234826038572 36.074387518857776, 71.49876793812118 35.65056325941606, 71.61307620635071 35.15320343682288, 71.11501875192172 34.73312571872222, 71.15677330921349 34.348911444632165, 70.88180301298846 33.988855902638534, 69.93054324735962 34.02012014417508, 70.3235941913716 33.35853261975839, 69.68714725126492 33.105498969041236, 69.26252200712256 32.501944078088314, 69.31776411324259 31.901412258424415, 68.92667687365767 31.620189113892053, 68.55693200060935 31.713310044882007, 67.79268924344481 31.58293040620964, 67.68339358914747 31.30315420178144, 66.93889122911852 31.304911200479324, 66.38145755398605 30.738899237586452, 66.34647260932442 29.887943427036134, 65.0468620136161 29.472180691031895, 64.35041873561855 29.56003062592805, 64.14800215033122 29.340819200145944, 63.55026085801123 29.468330796826166, 62.54985680527281 29.31857249604431, 60.87424848820885 29.829238999952594, 61.781221551363416 30.735850328081227, 61.69931440618083 31.37950613049273, 60.941944614511186 31.5480746526288, 60.863654819589016 32.18291962333444, 60.53607791529086 32.98126882581158, 60.96370039250607 33.52883230237626, 60.52842980331158 33.676446031218006, 60.803193393807504 34.40410187431988, 61.21081709172583 35.650072333309254, 62.23065148300597 35.27066396742234, 62.984662306576666 35.404040839167635, 63.19353844590037 35.85716563571896, 63.98289594915869 36.007957465146575, 64.5464791197339 36.31207326918425, 64.74610517767738 37.11181773533329, 65.5889477883579 37.30521678318564, 65.74563073106683 37.66116404881208, 66.21738488145937 37.39379018813392, 66.51860680528873 37.362784328758806, 67.07578209825968 37.35614390720929, 67.82999962755954 37.144994004864714, 68.13556237170141 37.02311513930434, 68.85944583524591 37.34433584243061, 69.1962728209244 37.15114350030743, 69.51878543485802 37.60899669041339, 70.11657840361042 37.58822276463212, 70.27057417184014 37.73516469985401, 70.3763041523093 38.138395901027536, 70.80682050973294 38.48628164321647, 71.3481311379903 38.25890534113219, 71.23940392444823 37.95326508234194, 71.54191775908484 37.90577444106563)))"));
        assertEquals("47500002000010E6404E43A39679BA3C4052CA1D2092428E403D518DF793EA5840433E3E7A1521440020000006000010E6000000010020000003000010E600000001000000454051E2AEC7D319064042F3F06AB8F6FC4051DCB764D682BE404288670CDB17504051F60E8DCC45BA40425E7C659A3C1840520C5AC7D319BA404279617D7EEE14405228C2CCF1D28E4042861662306C98405250A4C0FF7A7A4042BF6493AEB8A840527CB76F13F61A4042B5F5E2306D684052BEB85C4DFE124042B5C23CA47B0C4052CA1D2092428E40429107282999284052A4DB6D5F0EB6404282AAEE22C54040528452C4694B9240426B07CDB58AD840523AE1AFEE690A40425C2930B220C44051F629A5B0F73A40424145CA4BB9E04051D0CA505BA13A4042098587BC5CC44051DFEBD05BA1864041D345A82995E84051E73CA3FC0EDA4041939C2B9365004051C75C779C7B8E40415DD71044E25C4051CA0892EAFD4A40412CA92155F2984051B86F75E7932E4040FE92D489250040517B8E0543BB16404102934C009C84405194B5C46947764040ADE4659A34AC40516BFA3876EE0640408D80FD7EE59C405150CD291AC4964040403FB41BE7B4405154563F4A8E0A403FE6C2F42A257840513B4EAC84946E403F9EC4B6B98068405123A4C61E2DA2403FB69B7CB2AD304050F2BB6BAA1F22403F953AED5683B04050EBBCB876EBCE403F4D9B83864BD84050BC16CB3CE42E403F4E0EA9123E2840509869CCF1CBAA403EBD28801C79204050962C9B738086403DE35042ABD180405042FFC987F9FA403D78E0D571C8E04050166D42B458CA403D8F5E2AC71E9040500978DE02DA42403D573FED5679C8404FC66EF2A2B6AC403D77E486F013F8404F4661B532109C403D518DF793EA58404E6FE75FDCB79C403DD44901D15D38404EE3FF115B04A4403EBC60AFE5DC18404ED983226C158C403F612750531908404E7891A420FC04403F8C4E9ED4CEA8404E6E8C3DBA957440401769E9040250404E449E337D241C40407D9A3785B8F8404E7B5A88D27A5C4040C3B0C6E1E320404E43A39679BA3C4040D695C896CB90404E66CF0A87621C404133B99C373A64404E9AFC0DF1333C4041D33591F9CC80404F1D85FCE0246C4041A2A51DEC246C404F7E096A1A2CE44041B3B79C373C98404F98C5DE27D4944041EDB79A825580404FFDCF88D280F440420104C00E4824405022F9838ECD0E404227F204528D1440502FC02FEE600A40428E500B262F44405065B15210831E4042A71157F2FC8040506FB869F534C64042D4A10607782C40508DE9A24720D24042B267B785C2AC4050A130DA990CAE4042AE6FB785C29C4050C4D99D2869724042AD961FA111184050F51EB6C203DE4042928F29DE8148405108AD0DCC41A6404282F56FD7AD6440513701291AC4224042AC1332670A4040514C8FBBE0BDB240429358AB93696440516133C7D316CE4042CDF39A825950405187760543BB4E4042CB4AE2306DC8405191511654CC864042DE19E07B85F8405198155E02E11E404311B6F4F668284051B3A2F27DC2E240433E3E7A1521444051D647C7D318CE40432123CF6A76144051CF5264D682824042FA04971889E84051E2AEC7D319064042F3F06AB8F6FC".toUpperCase(), hex);
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTIPOLYGON (((16.326528354567046 -5.877470391466218, 16.573179965896145 -6.622644545115094, 16.86019087084523 -7.222297865429979, 17.08999596524717 -7.545688978712477, 17.472970004962292 -8.068551120641658, 18.13422163256905 -7.987677504104866, 18.464175652752687 -7.847014255406478, 19.01675174324967 -7.9882459448601395, 19.166613396896082 -7.738183688999726, 19.417502475673217 -7.155428562044278, 20.037723016040218 -7.11636117923166, 20.09162153492062 -6.943090101756951, 20.601822950938327 -6.939317722199689, 20.51474816252653 -7.299605808138665, 21.728110792739756 -7.290872491081316, 21.746455926203367 -7.920084730667114, 21.94913089365204 -8.305900974158305, 21.801801385187957 -8.908706556842986, 21.875181919042404 -9.523707777548566, 22.208753289486424 -9.89479623783653, 22.155268182064333 -11.084801120653779, 22.402798292742432 -10.993075453335692, 22.83734541188477 -11.017621758674338, 23.45679080576747 -10.867863457892483, 23.912215203555746 -10.926826267137542, 24.017893507592618 -11.237298272347118, 23.90415368011824 -11.722281589406336, 24.079905226342902 -12.191296888887308, 23.930922072045377 -12.565847670138822, 24.016136508894704 -12.911046237848552, 21.933886346125945 -12.898437188369357, 21.887842644953878 -16.080310153876894, 22.56247846852429 -16.898451429921835, 23.215048455506093 -17.523116143465955, 21.377176141045595 -17.93063648851971, 18.95618696460363 -17.789094740472237, 18.26330936043422 -17.309950860262006, 14.209706658595053 -17.353100681225712, 14.058501417709039 -17.423380629142656, 13.462362094789967 -16.971211846588744, 12.814081251688407 -16.941342868724078, 12.215461460019384 -17.111668389558062, 11.73419884608515 -17.3018893368245, 11.64009606288161 -16.67314218512921, 11.778537224991567 -15.79381601325069, 12.123580763404448 -14.878316338767931, 12.175618930722266 -14.449143568583892, 12.500095249083017 -13.547699883684402, 12.738478631245442 -13.137905775609937, 13.312913852601838 -12.483630466362513, 13.633721144269828 -12.038644707897191, 13.738727654686926 -11.297863050993143, 13.686379428775297 -10.731075941615842, 13.387327915102162 -10.373578383020728, 13.120987583069876 -9.766897067914115, 12.875369500386569 -9.16693368900549, 12.929061313537801 -8.959091078327575, 13.236432732809874 -8.562629489784342, 12.933040398824318 -7.596538588087753, 12.72829837408392 -6.927122084178805, 12.227347039446443 -6.294447523629373, 12.322431674863566 -6.100092461779653, 12.735171339578699 -5.965682061388478, 13.02486941900699 -5.984388929878108, 13.375597364971895 -5.864241224799557, 16.326528354567046 -5.877470391466218)), ((12.436688266660923 -5.684303887559224, 12.18233686692028 -5.789930515163803, 11.914963006242118 -5.037986748884734, 12.318607618873926 -4.606230157086159, 12.62075971848455 -4.438023369976122, 12.995517205465205 -4.781103203961919, 12.631611769265845 -4.991271254092936, 12.468004184629763 -5.248361504744992, 12.436688266660923 -5.684303887559224)))"));
        assertEquals("47500002000010E6402747BAABD0BFF040381474AB3DEC18C031EE3E3162A80CC011C08932C3B9800020000006000010E6000000020020000003000010E60000000100000042403053975CBC1508C0178287992A3910403092BBEC183F10C01A7D96881935604030DC35780A9918C01CE3A20D37F83040311709F9BF8230C01E2EC917756E50403179148FEF4D50C020231921EA85284032225C59524CC0C01FF361BB4C8050403276D437302C18C01F6357B478DDD040330449D79D6888C01FF3F6BEB650D040332AA72CF2BE80C01EF3E66CCAC72040336AE1713703F8C01C9F28AA3B60C0403409A837303300C01C7727628D4BC040341774824817E8C01BC5B96960E8E040349A1111A44328C01BC1DC81459A80403483C6891BBA40C01D32CBDD6E96C04035BA65780AAE90C01D29DA7A7200504035BF17BC4EF2E8C01FAE2AB10F0E904035F2FA3E03DBD8C0209C9F0D6FA6204035CD42DB074510C021D141FC5E9A504035E00BEC185670C0230C236D0276C040363570DB0746D0C023CA22BB842EF8403627BFA7D41360C0262B6B0D6FBE884036671DC9F636A0C025FC7462C513084036D65C44D78030C0260905B81A6898403774F03E03E280C025BC58996215584037E986EF822F98C025DA88F8F4DBE840380494AB3DEBC8C026797F28BE41A04037E7769D96AA78C02771CEE47A019840381474AB3DEC18C02861F1AA7331F04037EE50E8AE8F38C02921B6C92B87304038042185B1F970C029D274A70968204035EF132CF2CAB8C029CBFFF58B1CF84035E349A7D41230C030148F34CC702040368FFE96C30418C030E600E9B48F084037370D6A637438C03185EAF08832284035608E9D969F50C031EE3E3162A80C4032F4C8AB3DD588C031CA021CE7C61C403243683E03CBB0C0314F58F0883140402C6B5EABD0D6A0C0315A64CE660F4C402C1DF3E5D7A8F0C0316C62AC43ED78402AECBAB97810E0C030F8A156EE96204029A0CF420093B0C030F0FBD8A37E2440286E50F6E8A9D0C0311C964CB1261C402777E8E94164B0C0314D489E9CAC20402747BAABD0BFF0C030AC530BD6B01C40278E9C6E601D60C02F966F0D6FE7D840283F45FA527940C02DC1B2ADDD19F8402859EAB9780570C02CE5F625548D984029000C7C0764A0C02B186C1E80E52040297A19DF03FCF0C02A469B95F85930402AA0363E96C7D0C028F79E6998C0A0402B4477190AD860C02813C93D3929F0402B7A3A82DB0FF0C0269881817D6798402B5F6D1FDE7960C025764F95F843D0402AC64FD8306220C024BF45AA732218402A3DF215A103B0C02388A6BB842DC84029C0306E602700C0225578551DC2284029DBADECAB3F50C021EB0DFC5E9AC8402A790DB60E3EA0C0212010F8F4C7204029DDB7789D9830C01E62DB02FA8E40402974E38644D740C01BB55F7DDBCA1040287466D4C687A0C0192D83A6D181604028A515C3B57790C018667EA367ADD04029786860B8E4E0C017DCDBC21FFD50402A0CBBAF3A9C70C017F003A6D17BD0402AC04E4C3E0940C01774FBA6D179F0403053975CBC1508C0178287992A39100020000003000010E600000001000000094028DF959ABFB610C016BCBA28865EC040285D5B42008E30C01728E38B82F6C04027D47607F9B830C01426E5FF9090B04028A32089AEA3D0C0126CC7992A22D040293DD437C32170C011C08932C3B9804029FDB46E602820C0131FD984AF44E0402943629E2987F0C013F70FCFC72D204028EF9E3E96C080C014FE527A71DC404028DF959ABFB610C016BCBA28865EC0".toUpperCase(), hex);
        hex = writer.writeToHex(wktReader.read("SRID=4326;MULTIPOLYGON (((19.73805138517966 42.68824738216557, 19.801613396898688 42.50009349219087, 20.070700000000045 42.58863000000011, 20.28375451018195 42.32025950781511, 20.522950000000066 42.21787000000009, 20.59024743010491 41.855404161133606, 20.463175083099202 41.5150890162754, 20.605181919037364 41.086226304685255, 21.02004031747643 40.84272695572588, 20.99998986174728 40.58000397395398, 20.674996779063633 40.434999904943055, 20.615000441172782 40.110006822259436, 20.15001590341052 39.62499766698403, 19.980000441170176 39.694993394523436, 19.960001661873235 39.91500580500605, 19.40608198413676 40.250773423822494, 19.319058872157143 40.72723012955359, 19.403549838954348 41.40956574153546, 19.540027296637163 41.71998607031276, 19.37176883309499 41.87754751237068, 19.304486118250793 42.19574514420782, 19.73805138517966 42.68824738216557)))"));
        assertEquals("47500002000010E640334DF2CD5FF920403505215CBC29A84043CFFFEC6DE2E8404558187D7EFAB80020000006000010E6000000010020000003000010E600000001000000164033BCF0EF821D38404558187D7EFAB84033CD36891BB720404540031044F37C40341219652BD3D040454B583A53B8F4403448A422B552F0404528FE43782644403485E00D1B718840451BE32A0663D44034971A74A0D9404044ED7DE230773040347692A46A3BB04044C1EE6FD7B74040349AED33C6656040448B0976AB56CC403505215CBC29A840446BDE7A1526704034FFFF55E8894040444A3D91F9D7584034ACCC96C2FBD0404437AE13AEBF2C40349D70AB3DDCD840440E14B41BF87840342667713707304043CFFFEC6DE2E84033FAE14F14E4384043D8F58B2635044033F5C2AB3DD9E84043F51EE9041358403367F4FD295CB84044201957F30304403351ADD79D69E040445D15E07B8C9C4033674F0AD09D704044B46CA674BA7840338A3F3A9A01004044DC2880E8C8D040335F2C3E03D0A84044F0537A1528BC40334DF2CD5FF9204045190E2D485C984033BCF0EF821D38404558187D7EFAB8".toUpperCase(), hex);
    }

}
